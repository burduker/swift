-#coding:utf-8
!!! 5
%html
  %head
    %meta{ :charset => "utf-8" }
    %link{ :rel => "shortcut icon", :href => "/images/swift32.png" }
    %title Swift Admin
    = stylesheet_link_tag :base, "themes/default/style", '/assets/admin'
    :erb
      <script src="/assets/admin.js" type="text/javascript"></script>
  %body
    #container
      #header
        %h1= link_to "Swift Admin", url(:base_index)
        #user-navigation
          %ul.wat-cf
            %li= button_to pat(:logout), url(:sessions, :destroy), :method => :delete, :class => :button_to
      #wrapper.wat-cf
        .flash= [:error, :warning, :notice].map { |type| flash_tag(type, :class => "message #{type}") }.join
        - if @object && @object.dirty?
          - err = @object.errors.to_hash.select{|k,v|v.any?}.map{|k,v|v.join}.join('<br>')
          - unless err.blank?
            .flash
              .message.error= err
        #main
          = yield
          #footer
            .block
              %p
                Copyright ©
                = Time.now.year
                Swift Admin — Powered by
                = link_to "Padrino", "http://github.com/padrino", :target => :_blank
        #sidebar
          = yield_content(:sidebar) || partial("base/sidebar")
